# –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç: –ú–æ–¥—É–ª—å Leaflet-–∫–∞—Ä—Ç—ã

**–î–∞—Ç–∞:** 2024  
**–¢–∏–ø –æ—Ç—á—ë—Ç–∞:** –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞—É–¥–∏—Ç  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ì–û–¢–û–í –ö –ü–†–û–î–ê–ö–®–ï–ù–£ ‚Äî 100%**

---

## –†–ï–ó–Æ–ú–ï –ò–°–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ï

### –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞

**–°—Ç–∞—Ç—É—Å –º–æ–¥—É–ª—è:** ‚úÖ **–ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –Ω–∞ 100%**

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- ‚úÖ **–ë–ª–æ–∫–æ–≤ —á–µ–∫-–ª–∏—Å—Ç–∞:** 10 –∏–∑ 10 –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (100%)
- ‚úÖ **E2E —Ç–µ—Å—Ç–æ–≤:** 50 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ
- ‚úÖ **–ë—Ä–∞—É–∑–µ—Ä–æ–≤ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ:** 5 (Chromium, Firefox, WebKit, Mobile Chrome, Mobile Safari)
- ‚úÖ **–í—ã—è–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º:** 0
- ‚úÖ **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫:** 0

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:** 100%

---

## –ê–ù–ê–õ–ò–ó –ö–û–î–ê –ú–û–î–£–õ–Ø

### –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. ‚úÖ **RouteMap** (`route-map.tsx`)
   - –ó–∞–≥—Ä—É–∑–∫–∞ CSS Leaflet
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
   - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –º–∞—Ä–∫–µ—Ä–æ–≤ –∏ –ø–æ–ª–∏–ª–∏–Ω–∏–π
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

2. ‚úÖ **RouteMapSwitcher** (`route-map-switcher.tsx`)
   - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
   - –°—Ç–∞–±–∏–ª—å–Ω—ã–π key –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
   - –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

3. ‚úÖ **RouteMapWithAlternatives** (`route-map-with-alternatives.tsx`)
   - –ó–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏–∑ localStorage
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å RouteMapSwitcher

4. ‚úÖ **LeafletMapProvider** (`leaflet-map-provider.ts`)
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–ª–∞–º–∏
   - Fallback –º–µ—Ö–∞–Ω–∏–∑–º
   - –í–∞–ª–∏–¥–∞—Ü–∏—è bounds
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–∞–º–∏ –∏ –ø–æ–ª–∏–ª–∏–Ω–∏—è–º–∏

5. ‚úÖ **Tile Provider**
   - OpenStreetMap France (–æ—Å–Ω–æ–≤–Ω–æ–π)
   - CartoDB Voyager (fallback)
   - Retry –ª–æ–≥–∏–∫–∞

6. ‚úÖ **CSS Loader**
   - –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
   - Race condition –∑–∞—â–∏—Ç–∞
   - –§–æ–ª–±—ç–∫ –ø—Ä–æ–≤–µ—Ä–∫–∞

---

## –ü–†–û–í–ï–†–ö–ê –ü–û –ë–õ–û–ö–ê–ú –ß–ï–ö-–õ–ò–°–¢–ê

### –ë–ª–æ–∫ 1. CSS ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç**

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ CSS Leaflet –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ (–ø–æ data-–∞—Ç—Ä–∏–±—É—Ç—É + href)
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ `<link>` –≤ `<head>`
- ‚úÖ CSS –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–æ –Ω–∞—á–∞–ª–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞—Ä—Ç—ã
- ‚úÖ –§–æ–ª–±—ç–∫-–ø—Ä–æ–≤–µ—Ä–∫–∞ CSS (—á–µ—Ä–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞–ª–∏—á–∏—è `<link>`) —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç —Å–æ–±—ã—Ç–∏—è `onload`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –¢—Ä–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –ø–æ data-–∞—Ç—Ä–∏–±—É—Ç—É (`link[data-leaflet-css]`), –ø–æ href, —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º
- –ó–∞—â–∏—Ç–∞ –æ—Ç race condition –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- CSS –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º useEffect —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é `[providerType]`
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã –∂–¥—ë—Ç `isLeafletCssLoaded === true`
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `onload` –¥–ª—è CSS (–ø–æ–ª–∞–≥–∞–µ–º—Å—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤ DOM)

**–¢–µ—Å—Ç—ã:**
- ‚úÖ `should load CSS only once without duplicates` ‚Äî –ø—Ä–æ—à—ë–ª –Ω–∞ –≤—Å–µ—Ö 5 –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–ü—Ä–æ–±–ª–µ–º:** –ù–µ—Ç

---

### –ë–ª–æ–∫ 2. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–∞—Ä—Ç—ã ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç**

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã (width > 50, height > 50)
- ‚úÖ `checkContainerSize()` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–æ 10 –ø–æ–ø—ã—Ç–æ–∫ —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏ (100ms)
- ‚úÖ `isSizeValidated` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `true` —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤
- ‚úÖ –í —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö loading/error/empty –∫–∞—Ä—Ç–∞ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ `requestAnimationFrame + delay`
- ‚úÖ –ù–∏–∫–∞–∫–∏–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: `rect.width > 50 && rect.height > 50` (–≤–º–µ—Å—Ç–æ `> 0`)
- `MAX_INIT_ATTEMPTS = 10` —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 100ms –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏
- `isSizeValidated` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ `invalidateSize`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –Ω–∞—á–∞–ª–µ useEffect: `if (isLoading || initError || mapDataError || !mapData || !mapData.segments || mapData.segments.length === 0) return;`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `requestAnimationFrame` + `setTimeout(100ms)` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑–º–µ—Ä–æ–≤

**–¢–µ—Å—Ç—ã:**
- ‚úÖ `should wait for container to have valid size (>50x50)` ‚Äî –ø—Ä–æ—à—ë–ª –Ω–∞ –≤—Å–µ—Ö 5 –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–ü—Ä–æ–±–ª–µ–º:** –ù–µ—Ç

---

### –ë–ª–æ–∫ 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç**

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
  - ‚úÖ CSS –∑–∞–≥—Ä—É–∂–µ–Ω (`isLeafletCssLoaded === true`)
  - ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –≥–æ—Ç–æ–≤ (—Ä–∞–∑–º–µ—Ä—ã > 50√ó50)
  - ‚úÖ –ü—Ä–æ–≤–∞–π–¥–µ—Ä –≤—ã–±—Ä–∞–Ω (`mapProvider` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–≤–æ–π–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–ø—Ä–æ–≤–µ—Ä–∫–∞ `isMapReady && this.map`)
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ mount
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤–∫–ª—é—á–µ–Ω–æ —Ç–æ–ª—å–∫–æ –≤ dev-—Ä–µ–∂–∏–º–µ

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `isLeafletCssLoaded` –ø–µ—Ä–µ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–µ—Ä–µ–¥ `initialize()`
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ `LeafletMapProvider.initialize()`: `if (this.isMapReady && this.map) return;`
- –í—Å–µ `console.log` –æ–±—ë—Ä–Ω—É—Ç—ã –≤ `if (process.env.NODE_ENV === 'development')`
- `console.warn` –∏ `console.error` –æ—Å—Ç–∞—é—Ç—Å—è –¥–ª—è –≤–∞–∂–Ω—ã—Ö –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –∏ –æ—à–∏–±–æ–∫

**–¢–µ—Å—Ç—ã:**
- ‚úÖ `should initialize map only once` ‚Äî –ø—Ä–æ—à—ë–ª –Ω–∞ –≤—Å–µ—Ö 5 –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–ü—Ä–æ–±–ª–µ–º:** –ù–µ—Ç

---

### –ë–ª–æ–∫ 4. invalidateSize() ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç**

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç—ã
- ‚úÖ –ó–∞—Ç–µ–º –≤—Ç–æ—Ä–æ–π —Ä–∞–∑ ‚Äî —á–µ—Ä–µ–∑ `requestAnimationFrame + setTimeout(0)`
- ‚úÖ –ó–∞—Ç–µ–º –µ—â—ë —Ä–∞–∑ ‚Äî –µ—Å–ª–∏ —Ä–∞–∑–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å (—á–µ—Ä–µ–∑ 150ms)
- ‚úÖ –ü–æ—Å–ª–µ `invalidateSize` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `setBounds()`
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤: —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ `setIsMapReady(true)` (—Å—Ç—Ä–æ–∫–∞ 381)
- –í—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤: –≤–Ω—É—Ç—Ä–∏ `requestAnimationFrame(() => setTimeout(() => {...}, 0))` (—Å—Ç—Ä–æ–∫–∏ 385-386)
- –¢—Ä–µ—Ç–∏–π –≤—ã–∑–æ–≤: –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ 150ms, —Å—Ç—Ä–æ–∫–∞ 391)
- `setBounds()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ `isSizeValidated === true` (—Å—Ç—Ä–æ–∫–∞ 508)

**–¢–µ—Å—Ç—ã:**
- ‚úÖ `should call invalidateSize correctly` ‚Äî –ø—Ä–æ—à—ë–ª –Ω–∞ –≤—Å–µ—Ö 5 –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–ü—Ä–æ–±–ª–µ–º:** –ù–µ—Ç

---

### –ë–ª–æ–∫ 5. fitBounds() (–∞–≤—Ç–æ—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ) ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç**

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ü–µ—Ä–µ–¥ `fitBounds` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è bounds:
  - ‚úÖ `north > south` (—Å—Ç—Ä–æ–∫–∞ 281)
  - ‚úÖ `east > west` (—Å—Ç—Ä–æ–∫–∞ 281)
  - ‚úÖ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ `undefined/null` (—Å—Ç—Ä–æ–∫–∏ 250-253)
  - ‚úÖ –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è `Number.isFinite()` (—Å—Ç—Ä–æ–∫–∏ 257-265)
  - ‚úÖ –º–∞—Å—Å–∏–≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –Ω–µ –ø—É—Å—Ç–æ–π (–ø—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞, —Å—Ç—Ä–æ–∫–∞ 327)
- ‚úÖ `fitBounds` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ `invalidateSize`
- ‚úÖ –ù–µ—Ç –¥–≤–æ–π–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ `fitBounds` –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ `LeafletMapProvider.setBounds()`:
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ `null/undefined` (—Å—Ç—Ä–æ–∫–∏ 250-253)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –∏ `Number.isFinite()` (—Å—Ç—Ä–æ–∫–∏ 257-265)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–µ–æ–º–µ—Ç—Ä–∏–∏ (`north > south`, `east > west`, —Å—Ç—Ä–æ–∫–∏ 281-294)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ bounds (0.001 –≥—Ä–∞–¥—É—Å–∞, —Å—Ç—Ä–æ–∫–∏ 327-336)
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å `previousBoundsRef` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (—Å—Ç—Ä–æ–∫–∏ 519-528)
- –í—ã–∑–æ–≤ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ `isSizeValidated === true` (—Å—Ç—Ä–æ–∫–∞ 508)

**–¢–µ—Å—Ç—ã:**
- ‚úÖ `should center map correctly with fitBounds` ‚Äî –ø—Ä–æ—à—ë–ª –Ω–∞ –≤—Å–µ—Ö 5 –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–ü—Ä–æ–±–ª–µ–º:** –ù–µ—Ç

---

### –ë–ª–æ–∫ 6. –ú–∞—Ä–∫–µ—Ä—ã ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç**

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –î–æ–±–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ `isMapReady && isSizeValidated`
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –º–∞—Ä–∫–µ—Ä–æ–≤ (–æ—á–∏—Å—Ç–∫–∞ –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º)
- ‚úÖ Transfer-–º–∞—Ä–∫–µ—Ä—ã –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π `zIndex` (zIndexOffset: 1000)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞: `if (!isMapReady || !isSizeValidated) return;` (—Å—Ç—Ä–æ–∫–∏ 607-609)
- –û—á–∏—Å—Ç–∫–∞: `for (const markerId of markersRef.current.keys()) { provider.removeMarker(markerId); }` (—Å—Ç—Ä–æ–∫–∏ 620-623)
- `zIndexOffset: options?.isTransfer ? 1000 : 0` –≤ `LeafletMapProvider.addMarker()` (—Å—Ç—Ä–æ–∫–∏ 424, 431)

**–¢–µ—Å—Ç—ã:**
- ‚úÖ `should render markers correctly` ‚Äî –ø—Ä–æ—à—ë–ª –Ω–∞ –≤—Å–µ—Ö 5 –±—Ä–∞—É–∑–µ—Ä–∞—Ö
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–∞—Ä–∫–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ `.leaflet-marker-icon` —Å–µ–ª–µ–∫—Ç–æ—Ä

**–ü—Ä–æ–±–ª–µ–º:** –ù–µ—Ç

---

### –ë–ª–æ–∫ 7. –ü–æ–ª–∏–ª–∏–Ω–∏–∏ ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç**

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –†–µ–Ω–¥–µ—Ä—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞—Ä—Ç—ã
- ‚úÖ –ù–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞ –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –ª–∏–Ω–∏–∏
- ‚úÖ –¶–≤–µ—Ç, —Ç–æ–ª—â–∏–Ω–∞, –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞: `if (!isMapReady || !isSizeValidated) return;` (—Å—Ç—Ä–æ–∫–∏ 562-564)
- –û—á–∏—Å—Ç–∫–∞ –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º: `polylinesRef.current.clear()` (—Å—Ç—Ä–æ–∫–∏ 575-578)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `getPolylineStyle()` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Å—Ç–∏–ª–µ–π (—Å—Ç—Ä–æ–∫–∞ 583)

**–¢–µ—Å—Ç—ã:**
- ‚úÖ `should render polylines correctly` ‚Äî –ø—Ä–æ—à—ë–ª –Ω–∞ –≤—Å–µ—Ö 5 –±—Ä–∞—É–∑–µ—Ä–∞—Ö
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ø–æ–ª–∏–ª–∏–Ω–∏–π —á–µ—Ä–µ–∑ `.leaflet-interactive` —Å–µ–ª–µ–∫—Ç–æ—Ä

**–ü—Ä–æ–±–ª–µ–º:** –ù–µ—Ç

---

### –ë–ª–æ–∫ 8. Tile Provider ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç**

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (OpenStreetMap France)
- ‚úÖ Fallback-–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ CartoDB –ø—Ä–∏ 5+ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ Retry-–º–µ—Ö–∞–Ω–∏–∫–∞ (—Å—á—ë—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ —Å –∞–≤—Ç–æ—Å–±—Ä–æ—Å–æ–º)
- ‚úÖ –ü–æ–ª–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–π–ª–æ–≤ (–Ω–µ—Ç –¥—ã—Ä –Ω–∞ –∫–∞—Ä—Ç–µ)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- URL: `https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png` (—Å—Ç—Ä–æ–∫–∞ 139)
- –û–ø—Ü–∏–∏: `subdomains: ['a', 'b', 'c']`, `detectRetina: true`, `errorTileUrl` (—Å—Ç—Ä–æ–∫–∏ 142-144)
- –°—á—ë—Ç—á–∏–∫ –æ—à–∏–±–æ–∫: `MAX_TILE_ERRORS = 5` (—Å—Ç—Ä–æ–∫–∞ 70)
- Fallback: CartoDB Voyager (—Å—Ç—Ä–æ–∫–∞ 823)
- `invalidateSize()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ fallback (—Å—Ç—Ä–æ–∫–∏ 846-856)

**–¢–µ—Å—Ç—ã:**
- ‚úÖ `should load tiles from OpenStreetMap France` ‚Äî –ø—Ä–æ—à—ë–ª –Ω–∞ –≤—Å–µ—Ö 5 –±—Ä–∞—É–∑–µ—Ä–∞—Ö
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ tile provider
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ URL

**–ü—Ä–æ–±–ª–µ–º:** –ù–µ—Ç

---

### –ë–ª–æ–∫ 9. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç**

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ù–µ—Ç –ª–∏—à–Ω–∏—Ö —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤ (–º–µ–º–æ–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `useMemo`, `useCallback`)
- ‚úÖ –ù–µ—Ç –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç—ã (–ø—Ä–æ–≤–µ—Ä–∫–∞ `isMapReady && this.map`)
- ‚úÖ –ù–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ CSS (—Ç—Ä–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
- ‚úÖ –ö–∞—Ä—Ç–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ä–æ–≤–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `useEffect` –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- `useMemo` –¥–ª—è `mapProvider` (—Å—Ç—Ä–æ–∫–∞ 216) –∏ `mapEvents` (—Å—Ç—Ä–æ–∫–∞ 156)
- `useCallback` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (—Å—Ç—Ä–æ–∫–∏ 140, 148, 657)
- Key –≤ `RouteMapSwitcher` –≤—Å–µ–≥–¥–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π: `route-map-${providerType}-${currentRoute.routeId}-${currentRouteIndex}` (—Å—Ç—Ä–æ–∫–∞ 172)
- –í—Å–µ —Ç–∞–π–º–µ—Ä—ã –∏ RAF –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—á–∏—â–∞—é—Ç—Å—è –≤ cleanup —Ñ—É–Ω–∫—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∏ 469-498)

**–¢–µ—Å—Ç—ã:**
- ‚úÖ `should not recreate map on route change` ‚Äî –ø—Ä–æ—à—ë–ª –Ω–∞ –≤—Å–µ—Ö 5 –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–ü—Ä–æ–±–ª–µ–º:** –ù–µ—Ç

---

### –ë–ª–æ–∫ 10. –û—à–∏–±–∫–∏ ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç**

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –û—à–∏–±–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ UI (`initError`, `mapDataError`)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ ¬´–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞¬ª –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫: `initError` (—Å—Ç—Ä–æ–∫–∏ 691-729), `mapDataError` (—Å—Ç—Ä–æ–∫–∏ 732-752)
- –ö–Ω–æ–ø–∫–∞ ¬´–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞¬ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç —Ü–µ–ø–æ—á–∫—É (—Å—Ç—Ä–æ–∫–∏ 699-709):
  - –°–±—Ä–æ—Å `initError`, `isMapReady`, `isSizeValidated`
  - –°–±—Ä–æ—Å `isLeafletCssLoaded`
  - –£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã: `mapProviderRef.current.destroy()`

**–¢–µ—Å—Ç—ã:**
- ‚úÖ `should handle errors gracefully and allow retry` ‚Äî –ø—Ä–æ—à—ë–ª –Ω–∞ –≤—Å–µ—Ö 5 –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–ü—Ä–æ–±–ª–µ–º:** –ù–µ—Ç

---

## –†–ï–ó–£–õ–¨–¢–ê–¢–´ –§–ò–ù–ê–õ–¨–ù–´–• –¢–ï–°–¢–û–í

### E2E —Ç–µ—Å—Ç—ã

**–§–∞–π–ª:** `frontend/e2e/leaflet-map-comprehensive-test.spec.ts`

**–°–æ–∑–¥–∞–Ω–æ —Ç–µ—Å—Ç–æ–≤:** 10

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ **50 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ** (10 —Ç–µ—Å—Ç–æ–≤ √ó 5 –±—Ä–∞—É–∑–µ—Ä–æ–≤)
- ‚úÖ **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 1.5 –º–∏–Ω—É—Ç—ã
- ‚úÖ **–ë—Ä–∞—É–∑–µ—Ä—ã:** Chromium, Firefox, WebKit, Mobile Chrome, Mobile Safari
- ‚úÖ **–û—à–∏–±–æ–∫:** 0
- ‚úÖ **–ü—Ä–æ–≤–∞–ª–æ–≤:** 0

**–¢–µ—Å—Ç—ã:**

1. ‚úÖ `should load CSS only once without duplicates` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å CSS —Å—Å—ã–ª–æ–∫
2. ‚úÖ `should wait for container to have valid size (>50x50)` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
3. ‚úÖ `should initialize map only once` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
4. ‚úÖ `should call invalidateSize correctly` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤—ã–∑–æ–≤–æ–≤ `invalidateSize`
5. ‚úÖ `should center map correctly with fitBounds` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–≤—Ç–æ—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞
6. ‚úÖ `should render markers correctly` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –ø–æ–∑–∏—Ü–∏–∏ –º–∞—Ä–∫–µ—Ä–æ–≤
7. ‚úÖ `should render polylines correctly` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –ø–æ–ª–∏–ª–∏–Ω–∏–π
8. ‚úÖ `should load tiles from OpenStreetMap France` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É —Ç–∞–π–ª–æ–≤
9. ‚úÖ `should not recreate map on route change` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç—ã
10. ‚úÖ `should handle errors gracefully and allow retry` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

---

## –ü–†–û–í–ï–†–ö–ê –û–¢–°–£–¢–°–¢–í–ò–Ø –ü–†–û–ë–õ–ï–ú

### ‚úÖ –î–≤–æ–π–Ω–æ–π init

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ó–∞—â–∏—Ç–∞ –≤ `LeafletMapProvider.initialize()`: `if (this.isMapReady && this.map) return;` (—Å—Ç—Ä–æ–∫–∞ 81)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ `RouteMap`: –∫–∞—Ä—Ç–∞ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö loading/error/empty (—Å—Ç—Ä–æ–∫–∞ 236)
- ‚úÖ –¢–µ—Å—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–±–ª–µ–º –Ω–µ—Ç

---

### ‚úÖ –î–≤–æ–π–Ω–æ–π CSS

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –¢—Ä–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º CSS (—Å—Ç—Ä–æ–∫–∏ 173-207)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ data-–∞—Ç—Ä–∏–±—É—Ç—É –∏ href
- ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ `appendChild`
- ‚úÖ –¢–µ—Å—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–±–ª–µ–º –Ω–µ—Ç

---

### ‚úÖ –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ bounds

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è bounds –≤ `setBounds()` (—Å—Ç—Ä–æ–∫–∏ 243-357):
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ `null/undefined`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –∏ `Number.isFinite()`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–µ–æ–º–µ—Ç—Ä–∏–∏ (`north > south`, `east > west`)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
- ‚úÖ Fallback –Ω–∞ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö bounds

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–±–ª–µ–º –Ω–µ—Ç

---

### ‚úÖ –†–∞–Ω–Ω–∏–π –≤—ã–∑–æ–≤ setBounds

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ `setBounds()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ `isSizeValidated === true` (—Å—Ç—Ä–æ–∫–∞ 508)
- ‚úÖ –î–ª—è Leaflet –∂–¥—ë–º `isSizeValidated` –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º `setBounds()`
- ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å `previousBoundsRef` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (—Å—Ç—Ä–æ–∫–∏ 519-528)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–±–ª–µ–º –Ω–µ—Ç

---

### ‚úÖ –û—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –í—Å–µ `console.log` –æ–±—ë—Ä–Ω—É—Ç—ã –≤ `if (process.env.NODE_ENV === 'development')`
- ‚úÖ `console.error` –∏ `console.warn` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
- ‚úÖ –¢–µ—Å—Ç—ã –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–±–ª–µ–º –Ω–µ—Ç

---

### ‚úÖ –õ–∏—à–Ω–∏–µ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `useMemo` –¥–ª—è `mapProvider` (—Å—Ç—Ä–æ–∫–∞ 216) –∏ `mapEvents` (—Å—Ç—Ä–æ–∫–∞ 156)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `useCallback` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (—Å—Ç—Ä–æ–∫–∏ 140, 148, 657)
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `useEffect`
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–π key –≤ `RouteMapSwitcher` (—Å—Ç—Ä–æ–∫–∞ 172)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–±–ª–µ–º –Ω–µ—Ç

---

### ‚úÖ –ù–µ–∑–∞–∫—Ä—ã—Ç—ã–µ —Ç–∞–π–º-–∞—É—Ç—ã/—Ä–∞—Ñ—ã

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –í—Å–µ —Ç–∞–π–º–µ—Ä—ã –æ—á–∏—â–∞—é—Ç—Å—è –≤ cleanup —Ñ—É–Ω–∫—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∏ 469-498):
  - `clearTimeout(timeoutId)` (—Å—Ç—Ä–æ–∫–∞ 476)
  - `clearTimeout(timeoutIdForRetry)` (—Å—Ç—Ä–æ–∫–∞ 480)
  - `clearInterval(checkCss)` (—Å—Ç—Ä–æ–∫–∏ 282, 286, 294)
  - `cancelAnimationFrame(rafId)` (—Å—Ç—Ä–æ–∫–∞ 472)
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ `return () => {...}` –∫–∞–∂–¥–æ–≥–æ `useEffect`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–±–ª–µ–º –Ω–µ—Ç

---

## –¢–ï–°–¢–´ –ñ–ò–ó–ù–ï–ù–ù–û–ì–û –¶–ò–ö–õ–ê

### ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ö–∞—Ä—Ç–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ
- ‚úÖ CSS –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç —Ä–∞–∑–º–µ—Ä—ã –ø–µ—Ä–µ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ –í—Å–µ —Ç–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### ‚úÖ –°–º–µ–Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∞

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ö–∞—Ä—Ç–∞ –Ω–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ –º–∞—Ä—à—Ä—É—Ç–∞
- ‚úÖ –ú–∞—Ä–∫–µ—Ä—ã –∏ –ø–æ–ª–∏–ª–∏–Ω–∏–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ `fitBounds` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –Ω–æ–≤–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞
- ‚úÖ –ù–µ—Ç –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ö–∞—Ä—Ç–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ—Å–ª–µ F5
- ‚úÖ CSS –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–¥–∏–Ω —Ä–∞–∑
- ‚úÖ –í—Å–µ —Ç–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞–∑–∞–¥/–≤–ø–µ—Ä—ë–¥

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ö–∞—Ä—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚úÖ Cleanup –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- ‚úÖ –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### ‚úÖ –ú–µ–¥–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ö–∞—Ä—Ç–∞ –∂–¥—ë—Ç –∑–∞–≥—Ä—É–∑–∫–∏ CSS (–º–∞–∫—Å–∏–º—É–º 5 —Å–µ–∫—É–Ω–¥, 50 –ø–æ–ø—ã—Ç–æ–∫ √ó 100ms)
- ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∂–¥—ë—Ç –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤ (–¥–æ 10 –ø–æ–ø—ã—Ç–æ–∫ √ó 100ms)
- ‚úÖ –¢–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å retry –º–µ—Ö–∞–Ω–∏–∑–º–æ–º
- ‚úÖ Fallback —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö (5+ –æ—à–∏–±–æ–∫)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### ‚úÖ Offline ‚Üí online

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –û—à–∏–±–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ UI
- ‚úÖ –ö–Ω–æ–ø–∫–∞ ¬´–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞¬ª –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç —Ü–µ–ø–æ—á–∫—É
- ‚úÖ –ü–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## –í–´–Ø–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### ‚úÖ –ü—Ä–æ–±–ª–µ–º –Ω–µ –≤—ã—è–≤–ª–µ–Ω–æ

**–°—Ç–∞—Ç—É—Å:** –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ. –ü—Ä–æ–±–ª–µ–º –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ.

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ –í—Å–µ —Ç–∞–π–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—á–∏—â–∞—é—Ç—Å—è
- ‚úÖ –í—Å–µ RAF –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–º–µ–Ω—è—é—Ç—Å—è
- ‚úÖ –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
- ‚úÖ –ù–µ—Ç –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ CSS
- ‚úÖ –ù–µ—Ç –¥–≤–æ–π–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ù–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö bounds
- ‚úÖ –ù–µ—Ç —Ä–∞–Ω–Ω–∏—Ö –≤—ã–∑–æ–≤–æ–≤ setBounds
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ (–∫—Ä–æ–º–µ –≤–∞–∂–Ω—ã—Ö –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π)

---

## –ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê

### –°—Ç–∞—Ç—É—Å: ‚úÖ **–ì–û–¢–û–í –ö –ü–†–û–î–ê–ö–®–ï–ù–£ ‚Äî 100%**

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- ‚úÖ 10 –∏–∑ 10 –±–ª–æ–∫–æ–≤ —á–µ–∫-–ª–∏—Å—Ç–∞ (100%)
- ‚úÖ 50 E2E —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∫–∞—Ä—Ç—ã –æ–±–µ—Å–ø–µ—á–µ–Ω–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –í—Å–µ —Ç–∞–π–º–µ—Ä—ã –∏ RAF –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—á–∏—â–∞—é—Ç—Å—è
- ‚úÖ –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
- ‚úÖ –ù–µ—Ç –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤

**–¢—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º

**–£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞:** üü¢ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π**

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. ‚úÖ –ú–æ–¥—É–ª—å –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É
2. ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
3. ‚úÖ –í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
4. ‚úÖ –ú–æ–∂–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

---

## –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–ú–æ–¥—É–ª—å Leaflet-–∫–∞—Ä—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É. –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —á–µ–∫-–ª–∏—Å—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ, –ø—Ä–æ–±–ª–µ–º –Ω–µ –≤—ã—è–≤–ª–µ–Ω–æ.

**–ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
1. ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** ‚Äî –∫–∞—Ä—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∑–∞–≤–∏—Å–∞–Ω–∏–π –∏ –æ—à–∏–±–æ–∫
2. ‚úÖ **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å** ‚Äî fallback –º–µ—Ö–∞–Ω–∏–∑–º –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
3. ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã
4. ‚úÖ **–ö–∞—á–µ—Å—Ç–≤–æ** ‚Äî –≤—Å–µ —Ç–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é, –Ω–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
5. ‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî —Å–æ–∑–¥–∞–Ω—ã comprehensive —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
1. ‚úÖ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω
2. ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏ –æ—à–∏–±–æ–∫ –≤ production
3. ‚úÖ –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å tile providers

---

**–û—Ç—á—ë—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω:** 2024  
**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É ‚Äî 100%





