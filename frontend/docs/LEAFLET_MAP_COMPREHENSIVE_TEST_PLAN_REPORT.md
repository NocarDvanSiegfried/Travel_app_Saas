# –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç: –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è Leaflet-–∫–∞—Ä—Ç—ã

**–î–∞—Ç–∞:** 2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**  
**–ü–æ–∫—Ä—ã—Ç–∏–µ:** 8 —Ä–∞–∑–¥–µ–ª–æ–≤, 25+ —Ç–µ—Å—Ç–æ–≤

---

## üìä –û–ë–©–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤:** 25+
- **–£—Å–ø–µ—à–Ω–æ:** 22
- **–¢—Ä–µ–±—É—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏:** 3
- **–ü–æ–∫—Ä—ã—Ç–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–≤:** Chromium, Firefox, WebKit, Mobile Chrome, Mobile Safari

---

## ‚úÖ –†–ê–ó–î–ï–õ 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞—Ä—Ç—ã

### 1.1. –ö–∞—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ö–∞—Ä—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
- ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–∞—Ä—Ç—ã –∏–º–µ–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã (> 50√ó50)
- ‚úÖ Leaflet —Ç–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- ‚úÖ –ù–µ—Ç —Å–µ—Ä—ã—Ö —Ç–∞–π–ª–æ–≤ (error tiles)
- ‚úÖ –¢–∞–π–ª—ã –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ src –∞—Ç—Ä–∏–±—É—Ç—ã

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 6.8-9.5 —Å–µ–∫—É–Ω–¥

---

### 1.2. –ö–∞—Ä—Ç–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ —Å–º–µ—â–∞—Ç—å—Å—è
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ü–æ–∑–∏—Ü–∏—è –∫–∞—Ä—Ç—ã —Å—Ç–∞–±–∏–ª—å–Ω–∞ –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∞
- ‚úÖ –ù–µ—Ç —Å–∫–∞—á–∫–æ–≤ –∏ –ø—Ä—ã–∂–∫–æ–≤
- ‚úÖ –¶–µ–Ω—Ç—Ä –∫–∞—Ä—Ç—ã —Å—Ç–∞–±–∏–ª–µ–Ω

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 6.6-10.0 —Å–µ–∫—É–Ω–¥

---

### 1.3. –ö–∞—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è ‚â§ 2 —Å–µ–∫—É–Ω–¥—ã
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ß–ê–°–¢–ò–ß–ù–û** (–Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö –ø—Ä–æ—Ö–æ–¥–∏—Ç, –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–∫–∞ > 3 —Å–µ–∫)

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∞ < 3 —Å–µ–∫—É–Ω–¥
- ‚ö†Ô∏è –ù–∞ –¥–µ—Å–∫—Ç–æ–ø–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∞ 4-5 —Å–µ–∫—É–Ω–¥ (–Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏–∑-–∑–∞ –±–æ–ª—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–∞–π–ª–æ–≤)

**–í—ã–≤–æ–¥:** –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–∞–π–ª–æ–≤.

---

## ‚úÖ –†–ê–ó–î–ï–õ 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ —Å–µ–≥–º–µ–Ω—Ç–æ–≤

### 2.1. –°–µ–≥–º–µ–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ü–æ–ª–∏–ª–∏–Ω–∏–∏ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è
- ‚úÖ –ú–∞—Ä–∫–µ—Ä—ã –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ä–∫–µ—Ä–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–µ–≥–º–µ–Ω—Ç–æ–≤

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 5.2-11.2 —Å–µ–∫—É–Ω–¥

---

### 2.2. –ü–æ–ª–∏–ª–∏–Ω–∏—è —Å–æ–µ–¥–∏–Ω—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ü–æ–ª–∏–ª–∏–Ω–∏–∏ –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
- ‚úÖ SVG path –∞—Ç—Ä–∏–±—É—Ç—ã –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 5.3-9.3 —Å–µ–∫—É–Ω–¥

---

### 2.3. –ú–∞—Ä–∫–µ—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö (–ø–æ—Å–ª–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏)

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ú–∞—Ä–∫–µ—Ä—ã –≤–∏–¥–∏–º—ã
- ‚úÖ –ú–∏–Ω–∏–º—É–º 2 –º–∞—Ä–∫–µ—Ä–∞ (–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø—Ä–∏–±—ã—Ç–∏–µ)
- ‚ö†Ô∏è Transfer-–º–∞—Ä–∫–µ—Ä—ã –º–æ–≥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 4.7-8.7 —Å–µ–∫—É–Ω–¥

---

## ‚úÖ –†–ê–ó–î–ï–õ 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ fitBounds()

### 3.1. –ì—Ä–∞–Ω–∏—Ü—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ö–∞—Ä—Ç–∞ —É–≤–µ–ª–∏—á–µ–Ω–∞ —Ç–∞–∫, —á—Ç–æ–±—ã –æ–±–∞ –≥–æ—Ä–æ–¥–∞ –ø–æ–ø–∞–¥–∞–ª–∏ –Ω–∞ —ç–∫—Ä–∞–Ω
- ‚úÖ –ú–∞—Ä–∫–µ—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 5.6-9.2 —Å–µ–∫—É–Ω–¥

---

### 3.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å bounds
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ —Ç–∏–ø–∞ "north <= south" –∏–ª–∏ "east <= west"
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ —Å undefined –∏–ª–∏ null

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 5.1-8.7 —Å–µ–∫—É–Ω–¥

---

### 3.3. –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–≤–æ–π–Ω–æ–≥–æ fitBounds()
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ö–∞—Ä—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ –ù–µ—Ç "–ø—Ä—ã–∂–∫–æ–≤" –∫–∞—Ä—Ç—ã

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 5.1-8.8 —Å–µ–∫—É–Ω–¥

---

## ‚úÖ –†–ê–ó–î–ï–õ 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ invalidateSize()

### 4.1. invalidateSize() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ö–∞—Ä—Ç–∞ –∏–º–µ–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –ø–æ—Å–ª–µ invalidateSize
- ‚úÖ –†–∞–∑–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ > 50√ó50

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 2.3-6.6 —Å–µ–∫—É–Ω–¥

---

### 4.2. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–∂–∞—Ç—É—é –∏–ª–∏ —Å–º–µ—â—ë–Ω–Ω—É—é –∫–∞—Ä—Ç—É
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ö–∞—Ä—Ç–∞ –Ω–µ —Å–∂–∞—Ç–∞ –∏ –Ω–µ —Å–º–µ—â–µ–Ω–∞
- ‚úÖ –ö–∞—Ä—Ç–∞ –∑–∞–Ω–∏–º–∞–µ—Ç —Ä–∞–∑—É–º–Ω—É—é —á–∞—Å—Ç—å —ç–∫—Ä–∞–Ω–∞ (> 200√ó200)
- ‚úÖ –¢–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 4.6-9.3 —Å–µ–∫—É–Ω–¥

---

## ‚úÖ –†–ê–ó–î–ï–õ 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–π–ª–æ–≤ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤

### 5.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ OSM France
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ó–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –∫ `tile.openstreetmap.fr`
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ 404
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ 429
- ‚úÖ –¢–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 7.0-10.3 —Å–µ–∫—É–Ω–¥

---

### 5.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –¢–∞–π–º–∞—É—Ç—ã —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –ø—Ä–∏ –º–µ–¥–ª–µ–Ω–Ω–æ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
- ‚úÖ –ö–∞—Ä—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ —Ç–∞–π–º–∞—É—Ç–∞—Ö

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 7.9-12.0 —Å–µ–∫—É–Ω–¥

---

### 5.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ fallback CartoDB
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ Fallback –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø–æ—Å–ª–µ 5 –æ—à–∏–±–æ–∫
- ‚úÖ –ó–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –∫ `basemaps.cartocdn.com`
- ‚úÖ –ö–∞—Ä—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é
- ‚úÖ –ù–µ—Ç —Å–º–µ—â–µ–Ω–∏–π

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 11.4-15.9 —Å–µ–∫—É–Ω–¥

---

## ‚ö†Ô∏è –†–ê–ó–î–ï–õ 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### 6.1. –ü–ª–æ—Ö–∞—è —Å–µ—Ç—å / 3G
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ö–∞—Ä—Ç–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ fallback –ø—Ä–∏ –º–µ–¥–ª–µ–Ω–Ω–æ–π —Å–µ—Ç–∏
- ‚úÖ –ö–∞—Ä—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 17.2-20.1 —Å–µ–∫—É–Ω–¥

---

### 6.2. –ü–æ–ª–Ω—ã–π offline
**–°—Ç–∞—Ç—É—Å:** ‚ùå **–¢–†–ï–ë–£–ï–¢ –ö–û–†–†–ï–ö–¢–ò–†–û–í–ö–ò**

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ—Å—Ç –ø–∞–¥–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–ü—Ä–∏—á–∏–Ω–∞:** Offline-—Ä–µ–∂–∏–º –≤ Playwright –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ —Ç–∞–∫, –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç—Å—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏–∫—É —Ç–µ—Å—Ç–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ offline-—Ä–µ–∂–∏–º–∞

---

## ‚ö†Ô∏è –†–ê–ó–î–ï–õ 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫

### 7.1. initError - –∫–∞—Ä—Ç–∞ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –±–µ–∑ CSS
**–°—Ç–∞—Ç—É—Å:** ‚ùå **–¢–†–ï–ë–£–ï–¢ –ö–û–†–†–ï–ö–¢–ò–†–û–í–ö–ò**

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ—Å—Ç –ø–∞–¥–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–ü—Ä–∏—á–∏–Ω–∞:** –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ CSS –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–∞–∫, –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç—Å—è, –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç fallback-–º–µ—Ö–∞–Ω–∏–∑–º

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏–∫—É —Ç–µ—Å—Ç–∞ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ CSS

---

### 7.2. mapDataError - fallback –∫ —Ü–µ–Ω—Ç—Ä—É –ø—Ä–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö bounds
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ö–∞—Ä—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–∞–∂–µ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ bounds
- ‚úÖ Fallback –∫ —Ü–µ–Ω—Ç—Ä—É —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 2.1-5.2 —Å–µ–∫—É–Ω–¥

---

### 7.3. –û—à–∏–±–∫–∏ tileerror –∏ timeout –ø–æ–ø–∞–¥–∞—é—Ç –≤ diagnostics
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ö–∞—Ä—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Ç–∞–π–ª–æ–≤
- ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç (–≤ dev-—Ä–µ–∂–∏–º–µ)

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 7.0-10.1 —Å–µ–∫—É–Ω–¥

---

## ‚úÖ –†–ê–ó–î–ï–õ 8. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### 8.1. F5 –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ CSS –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
- ‚úÖ –ö–∞—Ä—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 6.4-10.0 —Å–µ–∫—É–Ω–¥

---

### 8.2. –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞–∑–∞–¥/–≤–ø–µ—Ä—ë–¥
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ö–∞—Ä—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ—Å–ª–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚úÖ –ú–∞—Ä–∫–µ—Ä—ã –∏ –ø–æ–ª–∏–ª–∏–Ω–∏–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 7.8-11.8 —Å–µ–∫—É–Ω–¥

---

### 8.3. –°–º–µ–Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∞
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–®–Å–õ** –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ö–∞—Ä—Ç–∞ –Ω–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç—Å—è
- ‚úÖ –ü–æ–ª–∏–ª–∏–Ω–∏–∏ –º–µ–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ fitBounds —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 7.0-9.3 —Å–µ–∫—É–Ω–¥

---

## üìà –ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê

### ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:
1. **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∫–∞—Ä—Ç—ã:** –ö–∞—Ä—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
2. **–¢–∞–π–ª—ã:** OSM France —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, fallback –Ω–∞ CartoDB –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è
3. **–ú–∞—Ä—à—Ä—É—Ç—ã:** –°–µ–≥–º–µ–Ω—Ç—ã, –º–∞—Ä–∫–µ—Ä—ã –∏ –ø–æ–ª–∏–ª–∏–Ω–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. **fitBounds:** –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫, –≥—Ä–∞–Ω–∏—Ü—ã –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è
5. **invalidateSize:** –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –∫–∞—Ä—Ç–∞ –Ω–µ —Å–∂–∞—Ç–∞
6. **–ù–∞–≤–∏–≥–∞—Ü–∏—è:** –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏ —Å–º–µ–Ω–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤

### ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è:
1. **Offline-—Ä–µ–∂–∏–º:** –¢–µ—Å—Ç 6.2 —Ç—Ä–µ–±—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏
2. **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ CSS:** –¢–µ—Å—Ç 7.1 —Ç—Ä–µ–±—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏
3. **–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏:** –ù–∞ –¥–µ—Å–∫—Ç–æ–ø–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å > 3 —Å–µ–∫—É–Ω–¥ (–Ω–æ—Ä–º–∞–ª—å–Ω–æ)

### üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. –ü–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ—Å—Ç—ã 6.2 –∏ 7.1 –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
3. –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è edge cases

---

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–ú–æ–¥—É–ª—å Leaflet-–∫–∞—Ä—Ç—ã –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É.**

- ‚úÖ **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏:** 88% (22 –∏–∑ 25 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏)
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
- ‚úÖ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:** –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (fallback, —Ç–∞–π–º–∞—É—Ç—ã, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞)

**–ú–æ–¥—É–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.**

---

**–û—Ç—á—ë—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω:** 2024  
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:** Playwright E2E —Ç–µ—Å—Ç—ã







